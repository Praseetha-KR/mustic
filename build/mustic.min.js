"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return i(n||e)},a,a.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){function r(e,t){return d.isUndefined(t)?""+t:!d.isNumber(t)||!isNaN(t)&&isFinite(t)?d.isFunction(t)||d.isRegExp(t)?t.toString():t:t.toString()}function i(e,t){return d.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e){return i(JSON.stringify(e.actual,r),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,r),128)}function s(e,t,n,r,i){throw new g.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function u(e,t){e||s(e,!0,t,"==",g.ok)}function c(e,t){if(e===t)return!0;if(d.isBuffer(e)&&d.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return d.isDate(e)&&d.isDate(t)?e.getTime()===t.getTime():d.isRegExp(e)&&d.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:d.isObject(e)||d.isObject(t)?l(e,t):e==t}function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function l(e,t){if(d.isNullOrUndefined(e)||d.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=y.call(e),t=y.call(t),c(e,t));try{var n,r,i=m(e),o=m(t)}catch(e){return!1}if(i.length!=o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!c(e[n],t[n]))return!1;return!0}function f(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function p(e,t,n,r){var i;d.isString(n)&&(r=n,n=null);try{t()}catch(e){i=e}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&s(i,n,"Missing expected exception"+r),!e&&f(i,n)&&s(i,n,"Got unwanted exception"+r),e&&i&&n&&!f(i,n)||!e&&i)throw i}var d=e("util/"),y=Array.prototype.slice,h=Object.prototype.hasOwnProperty,g=t.exports=u;g.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var t=e.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,u=r.indexOf("\n"+i);if(u>=0){var c=r.indexOf("\n",u+1);r=r.substring(c+1)}this.stack=r}}},d.inherits(g.AssertionError,Error),g.fail=s,g.ok=u,g.equal=function(e,t,n){e!=t&&s(e,t,n,"==",g.equal)},g.notEqual=function(e,t,n){e==t&&s(e,t,n,"!=",g.notEqual)},g.deepEqual=function(e,t,n){c(e,t)||s(e,t,n,"deepEqual",g.deepEqual)},g.notDeepEqual=function(e,t,n){c(e,t)&&s(e,t,n,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(e,t,n){e!==t&&s(e,t,n,"===",g.strictEqual)},g.notStrictEqual=function(e,t,n){e===t&&s(e,t,n,"!==",g.notStrictEqual)},g.throws=function(e,t,n){p.apply(this,[!0].concat(y.call(arguments)))},g.doesNotThrow=function(e,t){p.apply(this,[!1].concat(y.call(arguments)))},g.ifError=function(e){if(e)throw e};var m=Object.keys||function(e){var t=[];for(var n in e)h.call(e,n)&&t.push(n);return t}},{"util/":5}],2:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),n.length>0&&n.shift()())},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],3:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],4:[function(e,t,n){t.exports=function(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],5:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=a(e,t);if(o)return o;var s=Object.keys(t),h=u(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),O(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(S(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return l(t)}var m="",b=!1,E=["{","}"];if(y(t)&&(b=!0,E=["[","]"]),S(t)&&(m=" [Function"+(t.name?": "+t.name:"")+"]"),w(t)&&(m=" "+RegExp.prototype.toString.call(t)),x(t)&&(m=" "+Date.prototype.toUTCString.call(t)),O(t)&&(m=" "+l(t)),0===s.length&&(!b||0==t.length))return E[0]+m+E[1];if(r<0)return w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=b?f(e,t,r,h,s):s.map(function(n){return p(e,t,r,h,n,b)}),e.seen.pop(),d(k,m,E)}function a(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],s=0,u=t.length;s<u;++s)N(t,String(s))?o.push(p(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var s,u,a;if((a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(u=g(n)?c(e,a.value,null):c(e,a.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function y(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function w(e){return E(e)&&"[object RegExp]"===k(e)}function E(e){return"object"===(void 0===e?"undefined":_typeof(e))&&null!==e}function x(e){return E(e)&&"[object Date]"===k(e)}function O(e){return E(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),q[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var L=/%[sdj%]/g;n.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(L,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])g(u)||!E(u)?s+=" "+u:s+=" "+i(u);return s},n.deprecate=function(e,i){if(b(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var T,j={};n.debuglog=function(e){if(b(T)&&(T=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(T)){var r=t.pid;j[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else j[e]=function(){};return j[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=y,n.isBoolean=h,n.isNull=g,n.isNullOrUndefined=function(e){return null==e},n.isNumber=m,n.isString=v,n.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":_typeof(e))},n.isUndefined=b,n.isRegExp=w,n.isObject=E,n.isDate=x,n.isError=O,n.isFunction=S,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":_typeof(e))||void 0===e},n.isBuffer=e("./support/isBuffer");var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("7YKIPe"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,"7YKIPe":2,inherits:3}],6:[function(e,t,n){e("./mustic")(document.querySelector(".root"))},{"./mustic":12}],7:[function(e,t,n){var r=e("./consts"),i=e("./handlers"),o=i.handleOrientation,s=i.handleClick,u=function(){function e(t){_classCallCheck(this,e),this.component=t,this.component.innerHTML='\n            <div class="'+r.app.BASE+'">\n                <div class="'+r.app.BASE+'__title">Mustic</div>\n                <div class="'+r.app.DISPLAY+'"></div>\n                <input type="checkbox" id="playpause" class="'+r.app.BUTTON_INPUT+'">\n                <label class="'+r.app.BUTTON_LABEL+'" for="playpause">'+r.app.LABEL_PLAY+"</label>\n            </div>\n        ";var n=this.component.querySelector.bind(this.component);this.container=n("."+r.app.BASE),this.display=n("."+r.app.DISPLAY),this.label=n("."+r.app.BUTTON_LABEL),this.input=n("."+r.app.BUTTON_INPUT),this.container.style.backgroundColor=r.theme.BACKGROUND,this.container.style.color=r.theme.FOREGROUND,this.display.innerHTML="0 Hz"}return _createClass(e,[{key:"setPlayLabel",value:function(){this.label.innerHTML=r.icon.PLAY+" Play"}},{key:"setPauseLabel",value:function(){this.label.innerHTML=r.icon.PAUSE+" Pause"}},{key:"listenBtnClick",value:function(e){this.input.addEventListener("click",s.bind(this,e))}},{key:"listenDeviceOrientation",value:function(e){window.addEventListener("deviceorientation",o.bind(this,e))}},{key:"isChecked",get:function(){return this.input.checked}},{key:"theme",set:function(e){this.container.style.backgroundColor=e.background,this.container.style.color=e.foreground}},{key:"displayFrequency",set:function(e){this.display.innerHTML=e+" Hz"}}]),e}();t.exports=u},{"./consts":10,"./handlers":11}],8:[function(e,t,n){var r=e("./Oscillator"),i=function(){function e(){_classCallCheck(this,e),this.oscillator={}}return _createClass(e,[{key:"play",value:function(){this.oscillator=new r("sine"),this.oscillator.start()}},{key:"pause",value:function(){this.oscillator.stop()}},{key:"frequency",set:function(e){this.oscillator.frequency=e}}]),e}();t.exports=i},{"./Oscillator":9}],9:[function(e,t,n){var r=function(){function e(t){_classCallCheck(this,e),this.ctx=new AudioContext,this.osc=this.ctx.createOscillator(),this.osc.type=t,this.osc.connect(this.ctx.destination)}return _createClass(e,[{key:"start",value:function(){this.osc.start()}},{key:"stop",value:function(){this.osc.stop(0)}},{key:"frequency",set:function(e){this.osc.frequency.value=e}}]),e}();t.exports=r},{}],10:[function(e,t,n){t.exports={app:{BASE:"mustic",DISPLAY:"mustic__display",BUTTON_INPUT:"mustic__input",BUTTON_LABEL:"mustic__label",LABEL_PLAY:"&#x25ba; Play",LABEL_PAUSE:"&#9616;&nbsp;&#9616; Pause"},theme:{BACKGROUND:"black",FOREGROUND:"white"},icon:{PLAY:"&#x25ba;",PAUSE:"&#9612;&#9612;"}}},{}],11:[function(e,t,n){var r=e("assert"),i=e("./Dom"),o=e("./Music"),s=e("./transforms");t.exports.handleOrientation=function(e,t){r(this instanceof i),r(e instanceof o),r(t instanceof Event);var n=t.alpha,u=t.beta,c=t.gamma,a=s.orientationToTheme(n,u,c),l=s.orientationToMusic(n,u,c);this.theme=a,this.displayFrequency=l,e.frequency=l},t.exports.handleClick=function(e){r(this instanceof i),r(e instanceof o),this.isChecked?(e.play(),this.setPauseLabel()):(e.pause(),this.setPlayLabel())}},{"./Dom":7,"./Music":8,"./transforms":13,assert:1}],12:[function(e,t,n){var r=e("assert"),i=e("./Dom"),o=e("./Music");t.exports=function(e){r(e instanceof Element);var t=new i(e),n=new o;return t.listenBtnClick(n),t.listenDeviceOrientation(n),{dom:t,music:n}}},{"./Dom":7,"./Music":8,assert:1}],13:[function(e,t,n){function r(e,t,n){i.equal(void 0===e?"undefined":_typeof(e),"number"),i.equal(void 0===t?"undefined":_typeof(t),"number"),i.equal(void 0===n?"undefined":_typeof(n),"number"),i(e>=0&&e<=360),i(t>=-180&&t<=180),i(n>=-90&&n<=90)}var i=e("assert"),o=e("../utils");t.exports={orientationToTheme:function(e,t,n){r(e,t,n);var i=[o.wholeNumber(.7083*e),o.wholeNumber(.7083*t),o.wholeNumber(1.4167*n)];return{background:"rgb("+i.join(", ")+")",foreground:o.percievedContrast(i)}},orientationToMusic:function(e,t,n){return r(e,t,n),o.wholeNumber((e+t)*n)}}},{"../utils":14,assert:1}],14:[function(e,t,n){var r=e("assert");t.exports.wholeNumber=function(e){return r.equal(void 0===e?"undefined":_typeof(e),"number"),Math.abs(Math.round(e))},t.exports.percievedContrast=function(e){return r(Array.isArray(e)),r.equal(e.length,3),e.forEach(function(e){r.equal(void 0===e?"undefined":_typeof(e),"number"),r(e>=0&&e<=255)}),Math.round((299*parseInt(e[0])+587*parseInt(e[1])+114*parseInt(e[2]))/1e3)>125?"black":"white"}},{assert:1}]},{},[6]);